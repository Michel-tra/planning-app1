{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\LENOVO\\\\planning-app1\\\\frontend\\\\src\\\\pages\\\\manager\\\\ManagerDashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport DashboardLayout from '../../components/DashboardLayout';\nimport { BarChart, Bar, XAxis, YAxis, Tooltip, Legend, ResponsiveContainer, CartesianGrid, PieChart, Pie, Cell } from 'recharts';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction StatCard({\n  label,\n  value,\n  icon\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"stat-card\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"stat-icon\",\n      children: icon\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"stat-label\",\n      children: label\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"stat-value\",\n      children: value\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 11,\n    columnNumber: 9\n  }, this);\n}\n_c = StatCard;\nconst COLORS = ['#0088FE', '#00C49F', '#FFBB28', '#FF8042', '#a64ca6', '#4caf50', '#f44336'];\nfunction PieSection({\n  title,\n  data,\n  dataKey,\n  valueKey\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"graph-section\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"graph-title\",\n      children: title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 13\n    }, this), data.length > 0 ? /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n      width: \"100%\",\n      height: 300,\n      children: /*#__PURE__*/_jsxDEV(PieChart, {\n        children: [/*#__PURE__*/_jsxDEV(Pie, {\n          data: data,\n          dataKey: valueKey,\n          nameKey: dataKey,\n          outerRadius: 100,\n          label: true,\n          children: data.map((entry, index) => /*#__PURE__*/_jsxDEV(Cell, {\n            fill: COLORS[index % COLORS.length]\n          }, `cell-${index}`, false, {\n            fileName: _jsxFileName,\n            lineNumber: 36,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Legend, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Aucune donn\\xE9e disponible.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 9\n  }, this);\n}\n_c2 = PieSection;\nfunction ManagerDashboard() {\n  _s();\n  var _JSON$parse, _stats$utilisateursCo, _stats$utilisateursCo2, _stats$etatPointageMa, _stats$tauxPointage, _stats$planningsSemai, _stats$congesEnAttent, _stats$absencesJour, _stats$retardsJour;\n  const [stats, setStats] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [annee, setAnnee] = useState(new Date().getFullYear());\n  const [mois, setMois] = useState(new Date().getMonth() + 1);\n  const [semaine, setSemaine] = useState(null);\n  const [filtre, setFiltre] = useState('annee');\n  const [absencesMois, setAbsencesMois] = useState([]);\n  const [tauxAbsences, setTauxAbsences] = useState([]);\n  const [retards, setRetards] = useState([]);\n  const [parUtilisateur, setParUtilisateur] = useState([]);\n  const managerId = (_JSON$parse = JSON.parse(localStorage.getItem('utilisateur'))) === null || _JSON$parse === void 0 ? void 0 : _JSON$parse.id;\n  useEffect(() => {\n    const fetchAllData = async () => {\n      try {\n        const [statsRes, absencesMoisRes, tauxRes, parUserRes, retardsRes] = await Promise.all([axios.get(`http://localhost:5000/api/stats/manager?managerId=${managerId}`), axios.get(`http://localhost:5000/api/stats/absences-par-mois?annee=${annee}`), axios.get('http://localhost:5000/api/stats/absences-utilisateurs'), axios.get(`http://localhost:5000/api/stats/absences-par-mois-utilisateur?annee=${annee}`), axios.get('http://localhost:5000/api/stats/retards-par-utilisateur', {\n          params: {\n            filtre,\n            annee,\n            mois: filtre === 'mois' ? mois : undefined,\n            semaine: filtre === 'semaine' ? semaine : undefined\n          }\n        })]);\n        setStats(statsRes.data);\n        setAbsencesMois(absencesMoisRes.data);\n        setTauxAbsences(tauxRes.data);\n        setParUtilisateur(parUserRes.data);\n        setRetards(retardsRes.data.map(r => ({\n          ...r,\n          utilisateur: `${r.prenom} ${r.nom}`\n        })));\n      } catch (err) {\n        console.error(\"Erreur lors du chargement des données :\", err);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchAllData(); // Appel initial\n\n    const interval = setInterval(fetchAllData, 15000); // Appel toutes les 15 secondes\n\n    return () => clearInterval(interval); // Nettoyage à la destruction du composant\n  }, [annee, mois, semaine, filtre]);\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const res = await axios.get(`http://localhost:5000/api/stats/manager?managerId=${managerId}`);\n        setStats(res.data);\n      } catch (e) {\n        console.error(\"Erreur lors du rafraîchissement des stats :\", e);\n      }\n    };\n    fetchData(); // chargement initial\n    const interval = setInterval(fetchData, 15000); // toutes les 15s\n\n    return () => clearInterval(interval);\n  }, []);\n  const tauxFormatted = tauxAbsences.map(u => ({\n    utilisateur: u.nom,\n    taux_presence: u.taux_presence,\n    taux_absence: u.taux_absence\n  }));\n  return /*#__PURE__*/_jsxDEV(DashboardLayout, {\n    role: \"manager\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"dashboard-title\",\n        children: \"\\uD83D\\uDCCA Tableau de bord Manager\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 17\n      }, this), loading ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Chargement des donn\\xE9es...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stats-grid\",\n          children: [/*#__PURE__*/_jsxDEV(StatCard, {\n            label: \"Utilisateurs connect\\xE9s\",\n            value: (_stats$utilisateursCo = stats === null || stats === void 0 ? void 0 : (_stats$utilisateursCo2 = stats.utilisateursConnectes) === null || _stats$utilisateursCo2 === void 0 ? void 0 : _stats$utilisateursCo2.length) !== null && _stats$utilisateursCo !== void 0 ? _stats$utilisateursCo : 0,\n            icon: \"\\uD83D\\uDC65\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n            label: \"Mon pointage aujourd'hui\",\n            value: (_stats$etatPointageMa = stats === null || stats === void 0 ? void 0 : stats.etatPointageManager) !== null && _stats$etatPointageMa !== void 0 ? _stats$etatPointageMa : '—',\n            icon: \"\\uD83D\\uDCCD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n            label: \"Taux de pointage\",\n            value: (_stats$tauxPointage = stats === null || stats === void 0 ? void 0 : stats.tauxPointage) !== null && _stats$tauxPointage !== void 0 ? _stats$tauxPointage : '0%',\n            icon: \"\\uD83D\\uDCC8\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n            label: \"Plannings cette semaine\",\n            value: (_stats$planningsSemai = stats === null || stats === void 0 ? void 0 : stats.planningsSemaine) !== null && _stats$planningsSemai !== void 0 ? _stats$planningsSemai : 0,\n            icon: \"\\uD83D\\uDCC5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n            label: \"Cong\\xE9s en attente\",\n            value: (_stats$congesEnAttent = stats === null || stats === void 0 ? void 0 : stats.congesEnAttente) !== null && _stats$congesEnAttent !== void 0 ? _stats$congesEnAttent : 0,\n            icon: \"\\uD83D\\uDCDD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n            label: \"Absents aujourd'hui\",\n            value: (_stats$absencesJour = stats === null || stats === void 0 ? void 0 : stats.absencesJour) !== null && _stats$absencesJour !== void 0 ? _stats$absencesJour : 0,\n            icon: \"\\u274C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n            label: \"Retards aujourd'hui\",\n            value: (_stats$retardsJour = stats === null || stats === void 0 ? void 0 : stats.retardsJour) !== null && _stats$retardsJour !== void 0 ? _stats$retardsJour : 0,\n            icon: \"\\u23F1\\uFE0F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dashboard-graphs\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"graphs-grid\",\n            children: [/*#__PURE__*/_jsxDEV(PieSection, {\n              title: \"\\uD83D\\uDCC5 Absences par mois\",\n              data: absencesMois,\n              dataKey: \"mois\",\n              valueKey: \"total\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(PieSection, {\n              title: \"\\uD83D\\uDDD3\\uFE0F Cong\\xE9s accept\\xE9s par mois\",\n              data: absencesMois,\n              dataKey: \"mois\",\n              valueKey: \"total\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"graph-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"graph-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"graph-title\",\n                children: \"\\uD83D\\uDEA6 Retards par utilisateur\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"graph-filtres\",\n                children: [/*#__PURE__*/_jsxDEV(\"select\", {\n                  value: filtre,\n                  onChange: e => setFiltre(e.target.value),\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"annee\",\n                    children: \"Ann\\xE9e\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 161,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"mois\",\n                    children: \"Mois\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 162,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"semaine\",\n                    children: \"Semaine\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 163,\n                    columnNumber: 45\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 160,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: annee,\n                  onChange: e => setAnnee(Number(e.target.value)),\n                  children: [2023, 2024, 2025].map(y => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: y,\n                    children: y\n                  }, y, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 166,\n                    columnNumber: 74\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 165,\n                  columnNumber: 41\n                }, this), filtre === 'mois' && /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: mois,\n                  onChange: e => setMois(Number(e.target.value)),\n                  children: ['Janv', 'Fév', 'Mars', 'Avril', 'Mai', 'Juin', 'Juil', 'Août', 'Sept', 'Oct', 'Nov', 'Déc'].map((m, i) => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: i + 1,\n                    children: m\n                  }, i + 1, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 171,\n                    columnNumber: 68\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 169,\n                  columnNumber: 45\n                }, this), filtre === 'semaine' && /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  min: \"1\",\n                  max: \"53\",\n                  placeholder: \"Semaine\",\n                  value: semaine || '',\n                  onChange: e => setSemaine(Number(e.target.value))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 175,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"graphs-grid\",\n              children: /*#__PURE__*/_jsxDEV(PieSection, {\n                data: retards,\n                dataKey: \"utilisateur\",\n                valueKey: \"total_retards\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"graph-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"graph-title\",\n              children: \"\\u23F0 Taux de pr\\xE9sence et d'absence\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 33\n            }, this), tauxFormatted.length > 0 ? /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n              width: \"100%\",\n              height: 300,\n              children: /*#__PURE__*/_jsxDEV(BarChart, {\n                data: tauxFormatted,\n                children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n                  strokeDasharray: \"3 3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 192,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n                  dataKey: \"utilisateur\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 193,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(YAxis, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 194,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 195,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(Legend, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 196,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(Bar, {\n                  dataKey: \"taux_presence\",\n                  fill: \"#4CAF50\",\n                  name: \"Pr\\xE9sence (%)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 197,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(Bar, {\n                  dataKey: \"taux_absence\",\n                  fill: \"#F44336\",\n                  name: \"Absence (%)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 198,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 37\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Aucune donn\\xE9e disponible.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"graph-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"graph-title\",\n              children: \"\\uD83D\\uDC64 Cong\\xE9s par utilisateur\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 33\n            }, this), parUtilisateur.length > 0 ? /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n              width: \"100%\",\n              height: 300,\n              children: /*#__PURE__*/_jsxDEV(BarChart, {\n                data: parUtilisateur,\n                layout: \"vertical\",\n                children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n                  strokeDasharray: \"3 3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 211,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n                  type: \"number\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 212,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n                  dataKey: \"beneficiaire\",\n                  type: \"category\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 213,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 214,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(Bar, {\n                  dataKey: \"total\",\n                  fill: \"#0a9af4ff\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 215,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 37\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Aucune donn\\xE9e disponible.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 130,\n    columnNumber: 9\n  }, this);\n}\n_s(ManagerDashboard, \"ivy9p6M/Z/8geloqJJ7bHwApVRE=\");\n_c3 = ManagerDashboard;\nexport default ManagerDashboard;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"StatCard\");\n$RefreshReg$(_c2, \"PieSection\");\n$RefreshReg$(_c3, \"ManagerDashboard\");","map":{"version":3,"names":["React","useEffect","useState","axios","DashboardLayout","BarChart","Bar","XAxis","YAxis","Tooltip","Legend","ResponsiveContainer","CartesianGrid","PieChart","Pie","Cell","jsxDEV","_jsxDEV","Fragment","_Fragment","StatCard","label","value","icon","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","COLORS","PieSection","title","data","dataKey","valueKey","length","width","height","nameKey","outerRadius","map","entry","index","fill","_c2","ManagerDashboard","_s","_JSON$parse","_stats$utilisateursCo","_stats$utilisateursCo2","_stats$etatPointageMa","_stats$tauxPointage","_stats$planningsSemai","_stats$congesEnAttent","_stats$absencesJour","_stats$retardsJour","stats","setStats","loading","setLoading","annee","setAnnee","Date","getFullYear","mois","setMois","getMonth","semaine","setSemaine","filtre","setFiltre","absencesMois","setAbsencesMois","tauxAbsences","setTauxAbsences","retards","setRetards","parUtilisateur","setParUtilisateur","managerId","JSON","parse","localStorage","getItem","id","fetchAllData","statsRes","absencesMoisRes","tauxRes","parUserRes","retardsRes","Promise","all","get","params","undefined","r","utilisateur","prenom","nom","err","console","error","interval","setInterval","clearInterval","fetchData","res","e","tauxFormatted","u","taux_presence","taux_absence","role","utilisateursConnectes","etatPointageManager","tauxPointage","planningsSemaine","congesEnAttente","absencesJour","retardsJour","onChange","target","Number","y","m","i","type","min","max","placeholder","strokeDasharray","name","layout","_c3","$RefreshReg$"],"sources":["C:/Users/LENOVO/planning-app1/frontend/src/pages/manager/ManagerDashboard.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport DashboardLayout from '../../components/DashboardLayout';\r\nimport {\r\n    BarChart, Bar, XAxis, YAxis, Tooltip, Legend, ResponsiveContainer, CartesianGrid,\r\n    PieChart, Pie, Cell\r\n} from 'recharts';\r\n\r\nfunction StatCard({ label, value, icon }) {\r\n    return (\r\n        <div className=\"stat-card\">\r\n            <div className=\"stat-icon\">{icon}</div>\r\n            <div className=\"stat-label\">{label}</div>\r\n            <div className=\"stat-value\">{value}</div>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst COLORS = ['#0088FE', '#00C49F', '#FFBB28', '#FF8042', '#a64ca6', '#4caf50', '#f44336'];\r\n\r\nfunction PieSection({ title, data, dataKey, valueKey }) {\r\n    return (\r\n        <div className=\"graph-section\">\r\n            <h3 className=\"graph-title\">{title}</h3>\r\n            {data.length > 0 ? (\r\n                <ResponsiveContainer width=\"100%\" height={300}>\r\n                    <PieChart>\r\n                        <Pie\r\n                            data={data}\r\n                            dataKey={valueKey}\r\n                            nameKey={dataKey}\r\n                            outerRadius={100}\r\n                            label\r\n                        >\r\n                            {data.map((entry, index) => (\r\n                                <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\r\n                            ))}\r\n                        </Pie>\r\n                        <Tooltip />\r\n                        <Legend />\r\n                    </PieChart>\r\n                </ResponsiveContainer>\r\n            ) : (\r\n                <p>Aucune donnée disponible.</p>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction ManagerDashboard() {\r\n    const [stats, setStats] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [annee, setAnnee] = useState(new Date().getFullYear());\r\n    const [mois, setMois] = useState(new Date().getMonth() + 1);\r\n    const [semaine, setSemaine] = useState(null);\r\n    const [filtre, setFiltre] = useState('annee');\r\n\r\n    const [absencesMois, setAbsencesMois] = useState([]);\r\n    const [tauxAbsences, setTauxAbsences] = useState([]);\r\n    const [retards, setRetards] = useState([]);\r\n    const [parUtilisateur, setParUtilisateur] = useState([]);\r\n\r\n    const managerId = JSON.parse(localStorage.getItem('utilisateur'))?.id;\r\n\r\n    useEffect(() => {\r\n        const fetchAllData = async () => {\r\n            try {\r\n                const [\r\n                    statsRes,\r\n                    absencesMoisRes,\r\n                    tauxRes,\r\n                    parUserRes,\r\n                    retardsRes\r\n                ] = await Promise.all([\r\n                    axios.get(`http://localhost:5000/api/stats/manager?managerId=${managerId}`),\r\n                    axios.get(`http://localhost:5000/api/stats/absences-par-mois?annee=${annee}`),\r\n                    axios.get('http://localhost:5000/api/stats/absences-utilisateurs'),\r\n                    axios.get(`http://localhost:5000/api/stats/absences-par-mois-utilisateur?annee=${annee}`),\r\n                    axios.get('http://localhost:5000/api/stats/retards-par-utilisateur', {\r\n                        params: { filtre, annee, mois: filtre === 'mois' ? mois : undefined, semaine: filtre === 'semaine' ? semaine : undefined }\r\n                    })\r\n                ]);\r\n\r\n                setStats(statsRes.data);\r\n                setAbsencesMois(absencesMoisRes.data);\r\n                setTauxAbsences(tauxRes.data);\r\n                setParUtilisateur(parUserRes.data);\r\n                setRetards(retardsRes.data.map(r => ({\r\n                    ...r,\r\n                    utilisateur: `${r.prenom} ${r.nom}`\r\n                })));\r\n            } catch (err) {\r\n                console.error(\"Erreur lors du chargement des données :\", err);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchAllData(); // Appel initial\r\n\r\n        const interval = setInterval(fetchAllData, 15000); // Appel toutes les 15 secondes\r\n\r\n        return () => clearInterval(interval); // Nettoyage à la destruction du composant\r\n    }, [annee, mois, semaine, filtre]);\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            try {\r\n                const res = await axios.get(`http://localhost:5000/api/stats/manager?managerId=${managerId}`);\r\n                setStats(res.data);\r\n            } catch (e) {\r\n                console.error(\"Erreur lors du rafraîchissement des stats :\", e);\r\n            }\r\n        };\r\n\r\n        fetchData(); // chargement initial\r\n        const interval = setInterval(fetchData, 15000); // toutes les 15s\r\n\r\n        return () => clearInterval(interval);\r\n    }, []);\r\n\r\n\r\n    const tauxFormatted = tauxAbsences.map(u => ({\r\n        utilisateur: u.nom,\r\n        taux_presence: u.taux_presence,\r\n        taux_absence: u.taux_absence\r\n    }));\r\n\r\n    return (\r\n        <DashboardLayout role=\"manager\">\r\n            <div className=\"dashboard-container\">\r\n                <h2 className=\"dashboard-title\">📊 Tableau de bord Manager</h2>\r\n\r\n                {loading ? (\r\n                    <p>Chargement des données...</p>\r\n                ) : (\r\n                    <>\r\n                        <div className=\"stats-grid\">\r\n                            <StatCard label=\"Utilisateurs connectés\" value={stats?.utilisateursConnectes?.length ?? 0} icon=\"👥\" />\r\n                            <StatCard label=\"Mon pointage aujourd'hui\" value={stats?.etatPointageManager ?? '—'} icon=\"📍\" />\r\n                            <StatCard label=\"Taux de pointage\" value={stats?.tauxPointage ?? '0%'} icon=\"📈\" />\r\n                            <StatCard label=\"Plannings cette semaine\" value={stats?.planningsSemaine ?? 0} icon=\"📅\" />\r\n                            <StatCard label=\"Congés en attente\" value={stats?.congesEnAttente ?? 0} icon=\"📝\" />\r\n                            <StatCard label=\"Absents aujourd'hui\" value={stats?.absencesJour ?? 0} icon=\"❌\" />\r\n                            <StatCard label=\"Retards aujourd'hui\" value={stats?.retardsJour ?? 0} icon=\"⏱️\" />\r\n                        </div>\r\n\r\n\r\n                        <div className=\"dashboard-graphs\">\r\n\r\n                            <div className=\"graphs-grid\">\r\n                                <PieSection title=\"📅 Absences par mois\" data={absencesMois} dataKey=\"mois\" valueKey=\"total\" />\r\n                                <PieSection title=\"🗓️ Congés acceptés par mois\" data={absencesMois} dataKey=\"mois\" valueKey=\"total\" />\r\n\r\n                            </div>\r\n                            <div className=\"graph-section\">\r\n                                <div className=\"graph-header\">\r\n                                    <h3 className=\"graph-title\">🚦 Retards par utilisateur</h3>\r\n                                    <div className=\"graph-filtres\">\r\n                                        <select value={filtre} onChange={e => setFiltre(e.target.value)}>\r\n                                            <option value=\"annee\">Année</option>\r\n                                            <option value=\"mois\">Mois</option>\r\n                                            <option value=\"semaine\">Semaine</option>\r\n                                        </select>\r\n                                        <select value={annee} onChange={e => setAnnee(Number(e.target.value))}>\r\n                                            {[2023, 2024, 2025].map(y => <option key={y} value={y}>{y}</option>)}\r\n                                        </select>\r\n                                        {filtre === 'mois' && (\r\n                                            <select value={mois} onChange={e => setMois(Number(e.target.value))}>\r\n                                                {['Janv', 'Fév', 'Mars', 'Avril', 'Mai', 'Juin', 'Juil', 'Août', 'Sept', 'Oct', 'Nov', 'Déc']\r\n                                                    .map((m, i) => <option key={i + 1} value={i + 1}>{m}</option>)}\r\n                                            </select>\r\n                                        )}\r\n                                        {filtre === 'semaine' && (\r\n                                            <input type=\"number\" min=\"1\" max=\"53\" placeholder=\"Semaine\"\r\n                                                value={semaine || ''} onChange={e => setSemaine(Number(e.target.value))} />\r\n                                        )}\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"graphs-grid\">\r\n                                    <PieSection data={retards} dataKey=\"utilisateur\" valueKey=\"total_retards\" />\r\n                                </div>\r\n                            </div>\r\n\r\n\r\n\r\n                            <div className=\"graph-section\">\r\n                                <h3 className=\"graph-title\">⏰ Taux de présence et d'absence</h3>\r\n                                {tauxFormatted.length > 0 ? (\r\n                                    <ResponsiveContainer width=\"100%\" height={300}>\r\n                                        <BarChart data={tauxFormatted}>\r\n                                            <CartesianGrid strokeDasharray=\"3 3\" />\r\n                                            <XAxis dataKey=\"utilisateur\" />\r\n                                            <YAxis />\r\n                                            <Tooltip />\r\n                                            <Legend />\r\n                                            <Bar dataKey=\"taux_presence\" fill=\"#4CAF50\" name=\"Présence (%)\" />\r\n                                            <Bar dataKey=\"taux_absence\" fill=\"#F44336\" name=\"Absence (%)\" />\r\n                                        </BarChart>\r\n                                    </ResponsiveContainer>\r\n                                ) : (\r\n                                    <p>Aucune donnée disponible.</p>\r\n                                )}\r\n                            </div>\r\n\r\n                            <div className=\"graph-section\">\r\n                                <h3 className=\"graph-title\">👤 Congés par utilisateur</h3>\r\n                                {parUtilisateur.length > 0 ? (\r\n                                    <ResponsiveContainer width=\"100%\" height={300}>\r\n                                        <BarChart data={parUtilisateur} layout=\"vertical\">\r\n                                            <CartesianGrid strokeDasharray=\"3 3\" />\r\n                                            <XAxis type=\"number\" />\r\n                                            <YAxis dataKey=\"beneficiaire\" type=\"category\" />\r\n                                            <Tooltip />\r\n                                            <Bar dataKey=\"total\" fill=\"#0a9af4ff\" />\r\n                                        </BarChart>\r\n                                    </ResponsiveContainer>\r\n                                ) : (\r\n                                    <p>Aucune donnée disponible.</p>\r\n                                )}\r\n                            </div>\r\n\r\n                        </div>\r\n                    </>\r\n                )}\r\n            </div>\r\n        </DashboardLayout>\r\n    );\r\n}\r\n\r\nexport default ManagerDashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}